{"version":3,"file":"server.js","sourceRoot":"","sources":["Settings.ts","../shared/DungeonCollapse.ts","DungeonCollapse.Server.ts","DungeonCollapse.Chat.ts","references.ts","server.ts"],"names":["Settings","Settings.constructor","DungeonCollapse","DungeonCollapse.Server","DungeonCollapse.Server.constructor","DungeonCollapse.Server.addClient","DungeonCollapse.Server.removeClient","DungeonCollapse.Server.receiveMessage","DungeonCollapse.Server.parseCookie","DungeonCollapse.Chat","DungeonCollapse.Chat.constructor","DungeonCollapse.Chat.chat"],"mappings":"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"}